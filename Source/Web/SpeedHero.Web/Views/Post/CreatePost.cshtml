@model SpeedHero.Web.InputModels.Posts.CreatePostInputModel

@{
    ViewBag.Title = "Create Post";
}

@section styles{
    @Styles.Render("~/Content/kendo")
}

@section scripts{
    @Scripts.Render("~/bundles/kendo")
}

<h2>@ViewBag.Title</h2>

@using (Html.BeginForm("CreatePost", "Post", FormMethod.Post, new { @role = "form" }))
{
    @Html.AntiForgeryToken()

    if (ViewBag.ModelState == "Invalid")
    {
        <div class="alert alert-dismissable alert-danger">
            <button type="button" class="close" data-dismiss="alert">×</button>
            <strong>Oh snap!</strong>
            @Html.ValidationSummary()
        </div>
    }

    <div class="form-group">
        @Html.LabelFor(p => p.Title, new { @class = "control-label" })
        @Html.EditorFor(p => p.Title, new { htmlAttributes = new { @class = "form-control" }})
    </div>

    <div class="form-group">
        @Html.LabelFor(p => p.CoverPhoto, new { @class = "control-label" })
        @(Html.Kendo().Upload()
            .Name("CoverPhoto")
            .Multiple(false))
    </div>

    <div class="form-group">
        @(Html.Kendo().Editor()
            .Name("Content")
            .Encode(true)
            .HtmlAttributes(new { style = "width: 100%; height:440px" })
            .ImageBrowser(imageBrowser => imageBrowser
                .Image("~/Content/UserFiles/Images/{0}")
                .Read("Read", "ImageBrowser")
                .Create("Create", "ImageBrowser")
                .Destroy("Destroy", "ImageBrowser")
                .Upload("Upload", "ImageBrowser")
                .Thumbnail("Thumbnail", "ImageBrowser")))
    </div>
    <div class="form-group">
        <input type="submit" value="Create" class="btn btn-primary" />
    </div>
}